<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Teste do Markmap</title>
</head>
<body>
    <h1>Teste de Mapa Mental</h1>
    <p>Se você consegue ver um mapa mental abaixo, então as bibliotecas estão funcionando no seu navegador.</p>
    
    <svg id="mapa-de-teste" style="width: 100%; height: 400px; border: 2px solid blue;"></svg>

    <script src="https://cdn.jsdelivr.net/npm/d3@7/dist/d3.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/markmap-lib@0.17.1/dist/index.iife.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/markmap-view@0.17.1/dist/index.iife.min.js"></script>

    <script>
        try {
            // Dados de teste, no formato correto
            const dadosDoMapa = `# Mapa de Teste
- Tópico Principal 1
  - Subtópico A
  - Subtópico B
- Tópico Principal 2
  - Subtópico C`;

            // Lógica de renderização
            const { Transformer, Markmap } = window.markmap;
            const transformer = new Transformer();
            const { root } = transformer.transform(dadosDoMapa);
            Markmap.create('#mapa-de-teste', null, root);
            
            console.log("SUCESSO: O mapa de teste foi renderizado!");

        } catch (e) {
            console.error("FALHA: Ocorreu um erro ao tentar renderizar o mapa de teste.", e);
        }
    </script>
</body>
</html>